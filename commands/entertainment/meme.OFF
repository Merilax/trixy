const nodefetch = require("node-fetch");
const Discord = require("discord.js");

module.exports.commanddata = {
  name: "badmeme",
  aliases: ['meme', 'cringe', 'bm'],
  category: "entertainment",
  cooldown: 3,
  guildOnly: false,
  args: false
};

module.exports.run = (
  bot,
  message,
  args,
  ownerid,
  prefix,
  faces_archive,
  queue
) => {
  nodefetch("https://some-random-api.ml/meme").then(res => res.json()).then(json => {
    const embed = new Discord.MessageEmbed()
      .setImage(json.image)
      .setTitle(json.caption)
      .setColor("BLUE")
      .setFooter("https://some-random-api.ml/meme");
    return message.channel.send(embed).catch(error => {
      message.channel.send(
        "<:delete:614100269369655306> Something went wrong..."
      );
    });;
  });
};

//THIS URL DOES NOT HAVE ENOUGH MEME VARIETY